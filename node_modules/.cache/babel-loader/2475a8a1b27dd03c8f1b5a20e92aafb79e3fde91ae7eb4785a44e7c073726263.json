{"ast":null,"code":"const handleLogin = async e => {\n  e.preventDefault();\n  try {\n    const {\n      data\n    } = await axios.post('http://localhost:5000/api/auth/login', {\n      email,\n      password\n    });\n\n    // Save token and userId in localStorage\n    localStorage.setItem('token', data.token);\n    localStorage.setItem('userId', data.userId); // ✅ Make sure it's a string\n\n    // ✅ Option 1: Reload the page (to ensure userId is picked up everywhere)\n    window.location.href = '/products';\n\n    // ✅ Option 2: OR use navigate + manual reload if needed:\n    // navigate('/products');\n    // window.location.reload();\n  } catch (err) {\n    console.error('Login failed', err);\n    alert('Invalid email or password');\n  }\n};","map":{"version":3,"names":["handleLogin","e","preventDefault","data","axios","post","email","password","localStorage","setItem","token","userId","window","location","href","err","console","error","alert"],"sources":["C:/Users/bhaga/OneDrive/Documents/Web Technology/Project/Sample/grocery-store/frontend/src/pages/LoginPage.js"],"sourcesContent":["const handleLogin = async (e) => {\r\n  e.preventDefault();\r\n  try {\r\n    const { data } = await axios.post('http://localhost:5000/api/auth/login', {\r\n      email,\r\n      password,\r\n    });\r\n\r\n    // Save token and userId in localStorage\r\n    localStorage.setItem('token', data.token);\r\n    localStorage.setItem('userId', data.userId); // ✅ Make sure it's a string\r\n\r\n    // ✅ Option 1: Reload the page (to ensure userId is picked up everywhere)\r\n    window.location.href = '/products'; \r\n\r\n    // ✅ Option 2: OR use navigate + manual reload if needed:\r\n    // navigate('/products');\r\n    // window.location.reload();\r\n    \r\n  } catch (err) {\r\n    console.error('Login failed', err);\r\n    alert('Invalid email or password');\r\n  } \r\n};\r\n"],"mappings":"AAAA,MAAMA,WAAW,GAAG,MAAOC,CAAC,IAAK;EAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClB,IAAI;IACF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMC,KAAK,CAACC,IAAI,CAAC,sCAAsC,EAAE;MACxEC,KAAK;MACLC;IACF,CAAC,CAAC;;IAEF;IACAC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEN,IAAI,CAACO,KAAK,CAAC;IACzCF,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEN,IAAI,CAACQ,MAAM,CAAC,CAAC,CAAC;;IAE7C;IACAC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,WAAW;;IAElC;IACA;IACA;EAEF,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,cAAc,EAAEF,GAAG,CAAC;IAClCG,KAAK,CAAC,2BAA2B,CAAC;EACpC;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}