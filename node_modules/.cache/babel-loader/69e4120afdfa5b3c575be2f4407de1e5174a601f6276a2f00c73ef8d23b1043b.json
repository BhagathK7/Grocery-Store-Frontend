{"ast":null,"code":"import React,{createContext,useContext,useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const AuthContext=/*#__PURE__*/createContext();export const useAuth=()=>useContext(AuthContext);export const AuthProvider=_ref=>{let{children}=_ref;const[userId,setUserId]=useState(localStorage.getItem('userId')||null);const[token,setToken]=useState(localStorage.getItem('token')||null);const login=(userId,token)=>{localStorage.setItem('userId',userId);localStorage.setItem('token',token);setUserId(userId);setToken(token);};const logout=()=>{localStorage.removeItem('userId');localStorage.removeItem('token');setUserId(null);setToken(null);};useEffect(()=>{const storedUserId=localStorage.getItem('userId');const storedToken=localStorage.getItem('token');if(storedUserId)setUserId(storedUserId);if(storedToken)setToken(storedToken);},[]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{userId,token,login,logout},children:children});};","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","jsx","_jsx","AuthContext","useAuth","AuthProvider","_ref","children","userId","setUserId","localStorage","getItem","token","setToken","login","setItem","logout","removeItem","storedUserId","storedToken","Provider","value"],"sources":["C:/Users/bhaga/OneDrive/Documents/Web Technology/Project/Frontend-grocery/frontend/src/context/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState } from 'react';\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [userId, setUserId] = useState(localStorage.getItem('userId') || null);\r\n  const [token, setToken] = useState(localStorage.getItem('token') || null);\r\n\r\n  const login = (userId, token) => {\r\n    localStorage.setItem('userId', userId);\r\n    localStorage.setItem('token', token);\r\n    setUserId(userId);\r\n    setToken(token);\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem('userId');\r\n    localStorage.removeItem('token');\r\n    setUserId(null);\r\n    setToken(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const storedUserId = localStorage.getItem('userId');\r\n    const storedToken = localStorage.getItem('token');\r\n    if (storedUserId) setUserId(storedUserId);\r\n    if (storedToken) setToken(storedToken);\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ userId, token, login, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE9E,KAAM,CAAAC,WAAW,cAAGN,aAAa,CAAC,CAAC,CAEnC,MAAO,MAAM,CAAAO,OAAO,CAAGA,CAAA,GAAMN,UAAU,CAACK,WAAW,CAAC,CAEpD,MAAO,MAAM,CAAAE,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,MAAM,CAAEC,SAAS,CAAC,CAAGT,QAAQ,CAACU,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,EAAI,IAAI,CAAC,CAC5E,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAACU,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAI,IAAI,CAAC,CAEzE,KAAM,CAAAG,KAAK,CAAGA,CAACN,MAAM,CAAEI,KAAK,GAAK,CAC/BF,YAAY,CAACK,OAAO,CAAC,QAAQ,CAAEP,MAAM,CAAC,CACtCE,YAAY,CAACK,OAAO,CAAC,OAAO,CAAEH,KAAK,CAAC,CACpCH,SAAS,CAACD,MAAM,CAAC,CACjBK,QAAQ,CAACD,KAAK,CAAC,CACjB,CAAC,CAED,KAAM,CAAAI,MAAM,CAAGA,CAAA,GAAM,CACnBN,YAAY,CAACO,UAAU,CAAC,QAAQ,CAAC,CACjCP,YAAY,CAACO,UAAU,CAAC,OAAO,CAAC,CAChCR,SAAS,CAAC,IAAI,CAAC,CACfI,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAC,CAEDd,SAAS,CAAC,IAAM,CACd,KAAM,CAAAmB,YAAY,CAAGR,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CACnD,KAAM,CAAAQ,WAAW,CAAGT,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACjD,GAAIO,YAAY,CAAET,SAAS,CAACS,YAAY,CAAC,CACzC,GAAIC,WAAW,CAAEN,QAAQ,CAACM,WAAW,CAAC,CACxC,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEjB,IAAA,CAACC,WAAW,CAACiB,QAAQ,EAACC,KAAK,CAAE,CAAEb,MAAM,CAAEI,KAAK,CAAEE,KAAK,CAAEE,MAAO,CAAE,CAAAT,QAAA,CAC3DA,QAAQ,CACW,CAAC,CAE3B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}